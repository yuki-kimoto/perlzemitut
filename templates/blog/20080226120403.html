<ol class="bread" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemprop="item" href="/">
        <span itemprop="name">Perl</span></a>
    <meta itemprop="position" content="1" />
  </li>
  &#8250;
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemprop="item" href="/blog/20161004147558.html">
      <span itemprop="name">標準関数</span></a>
    <meta itemprop="position" content="2" />
  </li>
  &#8250;
  <li>
    here
  </li>
</ol>
<h2>chomp関数 - 改行を削除する</h2>



<strong>chomp関数</strong>を使用すると、<b>改行を削除</b>することができます。

<pre>
# 末尾の改行を削除
chomp $line;
</pre>

<h4>OSに依存しないで改行を削除する</h4>

chompに関して一つ注意点があります。chompは環境に依存するということです。たとえばWindowsで実行した場合は末尾の「\x0D\x0A」あるいは「\x0A」を取り除きますが、Unix系OSで実行した場合は「\x0A」を取り除きます。\x0Dはキャリッジリターンを、\x0Aはラインフィードを表す特殊文字です。Windowsでは改行文字は「\x0D\x0A」で表されれ、Unixでは「\x0A」で表されます。

このような理由でWindows上で保存したスクリプトと読み込んだテキストファイルを、そのままUnix上に移動させた場合に、正しく改行が取り除かれないということが発生します。環境に依存しないで改行を取り除きたい場合は<a href="/blog/20100827127859.html">正規表現</a>を使って次のようにします。

<pre>
# 環境に依存しないで末尾の改行を削除
$string =~ s/\x0D?\x0A?$//;
</pre>

<h3>サンプル</h3>

chomp関数を使ったサンプルです。

<pre>
use strict;
use warnings;

my $message = "I like a cake.\n";

# 行末の改行を削除する
chomp($message);
print $message;
</pre>


