<script>location.href="https://mojolicious.perlzemi.com/blog/20110420130648.html";</script>
<ol class="bread" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemprop="item" href="/">
      <span itemprop="name">Perl</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  &#8250;
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemprop="item" href="/blog/20140319139520.html">
      <span itemprop="name">Mojolicious</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
</ol>
<h2>HTTPメソッドを取得する / Mojolicious</h2>



HTTPメソッドを取得するにはMojo::Message::Requestクラスの<strong>method</strong>メソッドを使用します。

<pre>
my $method = $req->method;
</pre>

以下はMojolicious::Liteでの例です。Mojo::Message::RequestオブジェクトにはMojolicious::Controllerオブジェクトのreqメソッドを使ってアクセスすることができます。

<pre>
# Mojolicious::Lite
get '/' => sub {
  my $self = shift;
  my $method = $self->req->method;
};
</pre>

以下はMojoliciousでの例です。

<pre>
# Mojolicious
package MyApp::Picture;

use Mojo::Base 'Mojolicious::Controller';

use utf8;

# ログイン画面
sub list {
  my $self = shift;
  my $method = $self->req->method;
}
</pre>

HTTPメソッドによって分岐させるときは次のようにlc関数で小文字にしてから判定するとよいでしょう。

<pre>
if (lc $self->req->method eq 'post') {
  ...
}
else {
  ...
}
</pre>

